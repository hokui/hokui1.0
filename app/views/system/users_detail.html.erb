<h1>ユーザー詳細管理</h1>
<h2>システム管理者</h2>
<section>
  <table class="admin-index">
    <tr>
      <th class="id"></th>
      <th class="full_name">Fullname</th>
      <th class="user_name">Handle name</th>
      <th class="mail">Mail Address</th>
      <th class="full_name">Invited by</th>
      <th class="date">Birthday</th>
      <th class="menu" colspan="2"></th>
    </tr>

    <% @system.each do |system| %>
      <tr>
        <td><%= system.id %></td>
        <td><%= system.full_name %></td>
        <td><%= system.handle_name %></td>
        <td><%= system.mail %></td>
        <td><%= User.find(system.invited_by).full_name %></td>
        <td><%= system.birthday %></td>
        <td><%= link_to '権限変更', {action: 'edit_user_authority', id: system.id} %></td>
        <td><%= link_to '退会', {action: 'delete_user', id: system.id}, confirm: "Are you sure to delete '#{system.full_name}'?" %></td>
      </tr>
    <% end %>
  </table>
</section>

<h2>管理者</h2>
<% if @notice_admin.blank? %>
<section>
  <table class="admin-index">
    <tr>
      <th class="id"></th>
      <th class="full_name">Fullname</th>
      <th class="user_name">Handle name</th>
      <th class="mail">Mail Address</th>
      <th class="full_name">Invited by</th>
      <th class="date">Birthday</th>
      <th class="menu" colspan="2"></th>
    </tr>

    <% @admin.each do |admin| %>
      <tr>
        <td><%= admin.id %></td>
        <td><%= admin.full_name %></td>
        <td><%= admin.handle_name %></td>
        <td><%= admin.mail %></td>
        <td><%= User.find(admin.invited_by).full_name %></td>
        <td><%= admin.birthday %></td>
        <td><%= link_to '権限変更', {action: 'edit_user_authority', id: admin.id} %></td>
        <td><%= link_to '退会', {action: 'delete_user', id: admin.id}, confirm: "Are you sure to delete '#{admin.full_name}'?" %></td>
      </tr>
    <% end %>
  </table>
</section>
<% else %>
  <%= @notice_admin %>
<% end %>

<h2>ユーザー</h2>
<% if @notice_guest.blank? %>
<section>
  <table class="admin-index">
    <tr>
      <th class="id"></th>
      <th class="full_name">Fullname</th>
      <th class="user_name">Handle name</th>
      <th class="mail">Mail Address</th>
      <th class="full_name">Invited by</th>
      <th class="date">Birthday</th>
      <th class="menu" colspan="2"></th>
    </tr>

    <% @guest.each do |guest| %>
      <tr>
        <td><%= guest.id %></td>
        <td><%= guest.full_name %></td>
        <td><%= guest.handle_name %></td>
        <td><%= guest.mail %></td>
        <td><%= User.find(guest.invited_by).full_name %></td>
        <td><%= guest.birthday %></td>
        <td><%= link_to '権限変更', {action: 'edit_user_authority', id: guest.id} %></td>
        <td><%= link_to '退会', {action: 'delete_user', id: guest.id}, confirm: "Are you sure to delete '#{guest.full_name}'?" %></td>
      </tr>
    <% end %>
  </table>
</section>
<% else %>
  <%= @notice_guest %>
<% end %>
